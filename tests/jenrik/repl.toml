binary_path = "./hal"

[file-less]
    status = 0
    args = ["-i"]
    stdin = ["(+ 1 3)"]
    stdout = "4"
    pipe_stdout = "| head -n 1 | sed 's/|λ〉//g' | tr -d '\n'"

[with-file]
    status = 0
    args = ["../tests/exemples/fact.scm", "-i"]
    stdin =["(fact 5)"]
    stdout = "120"

[with-bad-file]
    status = 84
    args = ["../tests/exemples/bad-path.scm", "-i"]
    stdin_file = "stdin/repl-with-bad-file" # Add content to the file
    stderr = "Error"
    pipe_stderr = "| cut -d ':' -f1 | tr -d '\n'"

[input-error]
    status = 84
    args = ["-i"]
    stdin = ["ezlepzal"]
    stderr = "Error"
    pipe_stderr = "| cut -d ':' -f1 | tr -d '\n'"

[fucked-up-input-but-valid]
    status = 0
    args = ["../tests/exemples/fact.scm"]
    stdin_file = "stdin/repl-fucked-up-input-but-valid" # Add content to the file